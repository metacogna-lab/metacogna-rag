name = "metacogna"
main = "index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

routes = [
  { pattern = "api.metacogna.ai/*", zone_name = "metacogna.ai" }
]

# --- AI BINDING ---
[ai]
binding = "AI"

# --- VECTOR DATABASE ---
[[vectorize]]
binding = "VECTORIZE"
index_name = "metacogna-index"

# --- D1 DATABASE ---
[[d1_databases]]
binding = "DB"
database_name = "metacogna-db"
database_id = "75e3fd65-a847-4467-8fde-ea1722564167"

# --- R2 BUCKET ---
[[r2_buckets]]
binding = "metacogna_vault"
bucket_name = "metacogna-vault"

# --- ENVIRONMENT VARIABLES ---
# Public variables (non-sensitive)
[vars]
#LANGFUSE_HOST = "https://cloud.langfuse.com"
OPENAI_API_BASE = "https://openrouter.ai/api/v1"
ENVIRONMENT = "production"
SERVICE_NAME = "metacogna"







# --- OBSERVABILITY (Optional) ---
[observability]
enabled = true
